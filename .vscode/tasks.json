{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Rebuild all",
            "group": "build",
            "dependsOrder": "parallel",
            "dependsOn": [
                "Build: libSeayon",
                "Build: SeayonDemo",
                "Build: SeayonMnist"
            ]
        },
        {
            "label": "Build: libSeayon",
            "type": "shell",
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}/bin/Seayon",
            },
            "command": "g++",
            "args": [
                "-O3", // Optimization
                // "-g",
                "-c",
                "../../Seayon/src/*.cpp",
                "-I",
                "../../Seayon/include",
                ";",
                "ar",
                "cr",
                "./lib/libSeayon.a",
                "*.o",
                ";",
                "Copy-Item",
                "-Force",
                "-Recurse",
                "'../../Seayon/include'",
                "'./'"
            ]
        },
        {
            "label": "Build: SeayonDemo",
            "type": "shell",
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}/bin/SeayonDemo/"
            },
            "command": "g++",
            "args": [
                // "-O3", // Optimization
                "-g",
                "../../SeayonDemo/src/*.cpp",
                "-o",
                "./SeayonDemo.exe",
                "-I",
                "../../Seayon/src",
            ]
        },
        {
            "label": "Build and Run: SeayonDemo",
            "type": "shell",
            "group": "build",
            "dependsOn": "Build: SeayonDemo",
            "command": "./bin/SeayonDemo/SeayonDemo.exe",
        },
        {
            "label": "Build: SeayonMnist",
            "type": "shell",
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}/bin/SeayonMnist/"
            },
            "command": "g++",
            "args": [
                "-O2", // Optimization
                "-g",
                "../../SeayonMnist/src/*",
                "-o",
                "./SeayonMnist.exe",
                "-I",
                "../../Seayon/include",
            ]
        },
        {
            "label": "Build and Run: SeayonMnist",
            "type": "shell",
            "group": "build",
            "dependsOn": "Build: SeayonMnist",
            "command": "./bin/SeayonMnist/SeayonMnist.exe",
        }
    ]
}