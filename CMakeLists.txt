cmake_minimum_required(VERSION 3.0)
project("Seayon")
set(CMAKE_CXX_STANDARD 17)

# if("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
#     add_compile_options(-fdiagnostics-color=always)
# elseif("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
#     add_compile_options(-fcolor-diagnostics)
# endif()

if (CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
set(CMAKE_CXX_FLAGS_DEBUG "-g")
set(CMAKE_CXX_FLAGS_RELEASE "-O3")
# set(CMAKE_CXX_FLAGS_RELEASE "-Ofast")
# set(CMAKE_CXX_FLAGS_RELEASE "-Ofast -ftree-vectorize -ftree-parallelize-loops=4")
# elseif (CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
endif()
set(CMAKE_CXX_FLAGS_RELEASE "/O2")

include_directories("include")
include_directories("external/timez")

add_subdirectory("external/googletest")
add_subdirectory("SeayonDemo")
add_subdirectory("local") # TODO temp
add_subdirectory("SeayonMnist")
add_subdirectory("SeayonMnistCuda")
add_subdirectory("SeayonTrading")
include(CTest)
add_subdirectory("tests")